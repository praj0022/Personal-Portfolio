<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Pooja Rajendran Raju">
<meta name="dcterms.date" content="2024-08-22">

<title>Breaking Down Different Media Formats – Pooja Rajendran Raju</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Pooja Rajendran Raju</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/praj0022"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Breaking Down Different Media Formats</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Blog</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Pooja Rajendran Raju </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 22, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="australians-say-ai-shouldnt-produce-political-news-but-its-ok-for-sport" class="level1">
<h1>Australians say AI shouldn’t produce political news, but its OK for sport</h1>
<p>The article studied here is from The Conversation, titled “Australians say AI shouldn’t produce political news, but its OK for sport: new research”, available online via <a href="https://theconversation.com/australians-say-ai-shouldnt-produce-political-news-but-its-ok-for-sport-new-research-231369">The Conversation Website</a>.</p>
<p>The article is best described as “online news media” due to its exclusive online publication utilizing digital format with interactive features, engaging readers through online channels. It highlights academic research and expert views, which sets it apart from traditional print media, despite the traditional journalistic standards it upholds.</p>
<p>The article summarizes that based on the Digital News Report 2024, Australians generally prefer news created by humans over that produced by AI, although their acceptance depends on the type of news. People are more open to AI-generated content in sports and entertainment than in political or crime news. Trust in news sources and familiarity with AI are crucial factors in shaping public attitudes, highlighting the importance for news organizations to openly disclose their use of AI to preserve audience trust.</p>
<p>While the main background information is presented in the first three paragraphs. The article’s background offers crucial context by outlining the growing role of AI in news media and and highlighting the key question about public attitudes toward this shift. This background is crucial appreciating the study’s findings, which explore how Australians perceive AI-generated news in different domains. This context helps explain why the research into public opinion on AI’s role in news is significant and how it reflects broader concerns about media authenticity and quality.</p>
<p>The lede in this article is in the title “Australians say AI shouldn’t produce political news, but it’s OK for sport”. It presents the prime findings of the article and captures interest by emphasizing a significant insight from the research. This is an unusual placement for lede, as it is usually placed in the opening paragraph but it’s increasingly typical for articles that are published exclusively online, where publishers aim for clicks mainly through their headlines.</p>
<p>The summary of the article can be found after the background in the fourth paragraph.</p>
<blockquote class="blockquote">
<p>“The online survey of 2,003 adult Australians finds they are much more comfortable with sport (31%) and entertainment (26%) news being produced mainly by AI than with politics (19%) and crime (21%) news being produced the same way (see the chart below).”</p>
</blockquote>
<p>The summary effectively reveals that Australians are generally more comfortable with AI-generated news in areas like sports (31%) and entertainment (26%) than in politics (19%) and crime (21%), highlighting how public acceptance of AI in news production varies by topic. By presenting specific data, it effectively highlights the research’s key result in a concise manner.</p>
<p>The main result of the article is present in the upper middle section of the article:</p>
<blockquote class="blockquote">
<p>“Overall, 59% say they feel uneasy about news produced by AI with human oversight. This is compared to 28% who say they are uncomfortable about news that is mainly produced by human journalists with AI assistance.”</p>
</blockquote>
<p>The study’s main finding reveals that 59% of people are uneasy with AI-produced news overseen by humans, while 28% are uncomfortable with news primarily created by human journalists with AI assistance. This key finding is placed in the middle of the article keeping readers engaged by ensuring they see the key finding early on, even if they don’t finish the entire piece. This allows for further context and analysis to be built around the result, prompting readers to consider its importance as they continue reading.</p>
</section>
<section id="dear-mona-whats-the-most-common-name-in-america" class="level1">
<h1>Dear Mona, What’s The Most Common Name In America?</h1>
<p>The article studied here is from FiveThirtyEight (ABC News), titled “Dear Mona, What’s The Most Common Name In America?”, available online via the <a href="https://fivethirtyeight.com/features/whats-the-most-common-name-in-america/">ABC News Website</a>.</p>
<p>This piece is best categorized as a “blog post” based on its online publication and format. Its digital format includes interactive graphics and a conversational tone, distinguishing it from print media. The article’s use of hyperlinks and a comment section highlights its role as an online blog intended for interactive engagement with readers.</p>
<p>The article investigates which full names are most prevalent in the U.S., focusing on whether “John Smith” is the top name. The authors use data from the Social Security Administration for first names and the Census Bureau for surnames, adjusting for factors like mortality and immigration. Their analysis shows that simple probability calculations are misleading, revealing that “James Smith” is more common than “John Smith” when demographic factors are taken into account.</p>
<p>The background of the article, provided in the initial four paragraphs, explores the challenge of determining the most common full names in the U.S. It starts by questioning whether “John Smith” is truly the most frequent name and discusses the complications of integrating first and last name databases. The authors describe their approach, which includes adjusting Social Security Administration data for mortality and factoring in names of immigrants. This context is essential as it highlights the complexities involved in analyzing name frequency and explains the need for advanced methodologies, preparing the reader for the detailed findings and conclusions presented in the article.</p>
<p>The lede in this article is in the opening question “Is John Smith really the most common name?”:</p>
<blockquote class="blockquote">
<p>“What are the most common first- and last-name combinations in the United States? Is John Smith really the most common name?”</p>
</blockquote>
<p>The lede effectively introduces the main question of the article, focusing on determining the most common name combinations in the U.S., particularly whether “John Smith” is the most prevalent. It captures the reader’s interest by addressing a widespread curiosity about name popularity and sets the stage for discussion that follows. The lede is distinctively positioned as a standalone question right at the beginning of the article, separate from the main text. This unusual format employs a direct question to immediately capture the reader’s interest and outline the article’s key focus.</p>
<p>The summary of the article is positioned early, in the second paragraph.</p>
<blockquote class="blockquote">
<p>“To get you an answer, my colleague Andrew Flowers and I tried a more sophisticated technique that reached a different conclusion: We think the most common name in America might very well be James Smith”</p>
</blockquote>
<p>This provides a concise and straightforward summary of the article’s findings. The author promptly introduces the main conclusion, questioning the common belief that “John Smith” is the most prevalent name and proposing that “James Smith” might actually take that spot. This early summary offers readers a quick glimpse into the results of the article’s exploration. Presenting the key conclusion at the start grabs readers’ attention and sets a clear direction for the article. It helps readers grasp the main point early, enabling them to better understand and engage with the detailed analysis and evidence presented later. This method effectively frames the article’s investigation and aligns readers’ expectations with the forthcoming detailed findings.</p>
<p>The main result can be found later in the article, in the second last paragraph.</p>
<blockquote class="blockquote">
<p>“As a result, “Michael Smith” dropped down from the most likely name in America to second place and was bypassed by “James Smith.” There were more dramatic changes, too. For example, according to independent probabilities, “Maria Garcia” was expected to be the 354th most common full name (and “Maria Smith” would rank as No.&nbsp;74). But according to Hartman’s data set, “Maria” and “Garcia” correlate nearly 700 percent more than you’d expect. That means “Maria Garcia” skyrockets to the 15th most common name combination overall. (We’ve posted all the data used in our analysis to our GitHub page.)”</p>
</blockquote>
<p>The finding that “James Smith” might be the most common name in the U.S., rather than “John Smith,” is presented after a thorough explanation of the methodology. This positioning helps establish a strong basis for its findings. This sequence allows readers to grasp the thorough analysis supporting the result, making the conclusion more credible and impactful. Revealing the result after explaining the process ensures that the conclusion is seen as well-supported and logically derived.</p>
</section>
<section id="how-did-australias-housing-market-get-so-bad-and-is-it-all-negative-gearings-fault" class="level1">
<h1>How did Australia’s housing market get so bad, and is it all negative gearing’s fault?</h1>
<p>The video studied here is from The Guardian, titled “How did Australia’s housing market get so bad, and is it all negative gearing’s fault?”, available online via Youtube on the <a href="https://youtu.be/iqUFERBJwoY?si=leQwkEU9KA6FYeY9">Guardian Australia’s channel</a>.</p>
<p>The video “How did Australia’s housing market get so bad, and is it all negative gearing’s fault?” is a form of “digital media”, specifically an explanatory or educational video. Found on platforms like YouTube, it uses visuals such as charts and graphics along with spoken narration to educate viewers on complex subjects like the housing market and negative gearing, setting it apart from traditional print or blog content.</p>
<p>The video examines how the reduction in capital gains tax in 1999, coupled with negative gearing, has intensified the crisis in Australia’s housing market by encouraging investors to take on greater risks and push property prices higher. It shows how these policy changes have led to a vicious cycle where house prices continually rise, benefiting investors while negatively impacting potential home buyers and the broader economy.</p>
<p>The background of this video is provided from (0:06 – 1:27). It features a chart (0:06 – 0:20) comparing Australian disposable income with housing prices, which demonstrates the widening gap between earnings and property costs, and a discussion of negative gearing (0:20 – 1:27), explaining how investors can offset property investment losses against their taxable income. This information is essential for understanding the housing market crisis, as the chart shows the extent of the affordability problem, while the negative gearing explanation reveals how this practice contributes to rising property prices and worsens the crisis. Together, these elements provide a solid basis for analyzing the current issues in the housing market.</p>
<p>The lede in the video is present at the following time stamp: (0:00 - 0:06). The lede introduces the video with an engaging statement: “You know what’s cool starting a video with a chart to show how cooked the Australian housing market is,” setting up the viewer’s expectations by focusing on the dramatic state of the housing market with a compelling visual. This approach is relevant as it captures attention and establishes the central theme of the video, highlighting the severity of the crisis and piquing interest in the underlying issues and policies contributing to the current situation. In contrast, Print media and blog posts typically use a straightforward written lede that introduces the topic concisely, relying solely on text to engage the reader.</p>
<p>The summary of the video can be found in the segment (3:11 – 4:04). The summary outlines how the 1999 cut in capital gains tax, combined with negative gearing, has worsened issues in Australia’s housing market. It describes how these factors have created a cycle of rising property prices that encourages more investment and intensifies the affordability crisis. The summary, located near the end of the video, consolidates earlier information and provides an overview of how specific policies have led to the current crisis. This placement helps viewers grasp the combined impact of the factors before the video presents the main takeaway and broader implications.</p>
<p>The main result appears at the end of the video (4:04 – 4:58). The main result identifies the 1999 reduction in capital gains tax, coupled with negative gearing, as a major factor worsening the Australian housing market crisis. Positioned at the end of the video, this section highlights the culmination of the factors discussed and their significant effect on the housing market. By placing it here, the video reinforces the central finding after a thorough analysis and summary, ensuring viewers grasp the primary cause and its wider implications.</p>
</section>
<section id="combined-reflection" class="level1">
<h1>Combined Reflection</h1>
<ul>
<li>Video</li>
</ul>
<p>The format focuses on visual engagement and dynamic presentation. Videos use visuals and audio to simplify complex information, making it more engaging for viewers by incorporating charts, graphs, and narration. This mix of visuals, voice-over, and text creates an interactive, multi-sensory experience that often conveys information more effectively than text. This approach captures and maintains audience interest through interactive elements, clarifies abstract ideas, and provides a brief, easily digestible summary, which is perfect for viewers who want a quick explanation without getting into lengthy texts. Its effectiveness is captured in engagement, clarity and time efficiency.</p>
<ul>
<li>Print Media</li>
</ul>
<p>In Print Media, the format designs the articles to provide a deep dive into topics, offering comprehensive analysis and rich context. This format is ideal for detailed reporting and in-depth discussions, as it organizes information systematically, following a clear journalistic structure. It allows readers to thoroughly explore subjects, making it suitable for those looking for a more profound understanding. Moreover, print articles act as a lasting resource that can be revisited, catering to readers who value detailed, well-thought-out arguments over concise summaries.</p>
<ul>
<li>Blog Post</li>
</ul>
<p>Blogs are designed for accessibility by integrating text with visuals like info-graphics and charts, making the content both engaging and easy to understand. This format effectively serves both quick reads and detailed content, utilizing interactive features like hyperlinks and multimedia to boost engagement and offer additional context. By balancing text and visuals, blogs capture readers’ interest and present data in a more accessible way. They are designed for rapid consumption, catering to those who favor concise yet informative content, while their flexible, conversational style makes complex subjects more relatable for a broader audience.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>