---
title: "Exploring Fundamentals of Data"
author: "Pooja Rajendran Raju"
date: 'March 22, 2024'
output: 
  html_document:
categories: [Blog]
---

# Data on swift parrot populations near Toowoomba and Geelong

In this exploration, I develop an understanding of data collection, by utilising open data sources to extract and organise data to solve a problem. This includes the following learning outcomes:

- Limitations of various types of data collection
- Accessing different data formats
- Organising data in an informative and readable manner, to explore how the data can be used.

![Swift Parrot (*Lathamus discolor*)  
*Image Â© Australian Museum / CC BY-NC*](Swift-Parro.jpg.webp)

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      eval = TRUE, 
                      cache = FALSE, 
                      warning = FALSE, 
                      message = FALSE)
options(width=80, digits=3)

load(here::here("posts/Proj_2_wcd1/data/storage.rda"))
```


# Data description

The data is in file `storage.rda` in the `data` directory. [Atlas of living Australia](https://www.ala.org.au) provides open access to Australia's biodiversity data. Data downloaded from the Atlas of Living Australia, containing occurrence records dating back to Jan 1, 2000, within a 100km radius (equivalent to 1 degree of both long and lat) of each of the airports. We have used the `galah()` package to subset and download the data required. 
It contains the following variables: `r ls(storage_filtered, all.names = TRUE, sorted = TRUE)`. Further, it constitutes of `r nrow(storage_filtered)` rows and `r ncol(storage_filtered)` columns.` 

## The variables are curated based on the motivation 

_Which facilities among Toowoomba, QLD or Geelong, VIC would have the least interaction with the local swift parrot populations_

- **decimalLatitude**: Latitude
- **decimalLongitude**: Logitude 
- **eventDate** : Date of occurrence 
- **occurrenceStatus**: Status of Occurrence 
- **scientificName**: Scientific Name


## To get started in reading the data:

```{r}
#| code-fold: true
#| code-summary: "Show code"

library(tidyverse)
library(galah)
library(dplyr)
airport1 <- tibble(lat = -27.5538, long = 151.7956, name = "Toowoomba") 
airport2 <- tibble(lat = -38.0220, long = 144.4768, name = "Geelong") 

galah_config(email = "poojarajendranraju@gmail.com",
             download_reason_id = 3, 
             verbose = TRUE)

swift_parrot <- galah_call() %>% 
  galah_identify("Lathamus discolor") %>% galah_filter(year >= 2000) %>% atlas_occurrences() 

storage1_coordinates <- swift_parrot %>%  filter(between(decimalLongitude, min(airport1$long)-1, max(airport1$long)+1),
         between(decimalLatitude, min(airport1$lat)-1, max(airport1$lat)+1))

storage2_coordinates <- swift_parrot %>%  filter(between(decimalLongitude, min(airport2$long)-1, max(airport2$long)+1),
         between(decimalLatitude, min(airport2$lat)-1, max(airport2$lat)+1))

combined_dataset <- rbind(storage1_coordinates,storage2_coordinates)


storage_filtered <- combined_dataset %>% select(scientificName, decimalLatitude, decimalLongitude, eventDate, occurrenceStatus)

save( storage_filtered, file = "data/storage.rda")
load(here::here("posts/Proj_2_wcd1/data/storage.rda"))
```

# How the data was downloaded, and processed

-To run the code to download the data you must register using your email address on the ALA webpage first. 
- The `galah()` package is used to script the download using the registered emnail ID. 
- The data is then subset and processed using functions mentioned above from galah() and other libraries. 



# Population and Sample 
The population is the records of data corrected from the start of time. (First captured and recorded occurance). The sample we are using is a good representation of the populatoion as we are considering all occurrences from the time mentioned. 

# Limitations of the data
- As this is observational data and not a systematic collection process, the data recorded is only when an occurrence is noticed and updated. Any occurrence which is not observed or occurring in remote inaccessible places are not captured. These will not be recorded in the database. Hence, data might not be accurately represent the population. 


# License and Usage permission
- The _Atlas of Living Australia_ has elabote usage and mutiple regulation available on its website. 
- It has a lisence for data usage: **Creative Commons**
