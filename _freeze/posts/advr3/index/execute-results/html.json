{
  "hash": "de52dab5eb4fb49ba1ffdf69652be1c1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Global Dietary Trends\"\nauthor: \"Pooja Rajendran Raju\" \ndate: \"July 1, 2025\"\noutput: \n  html:\n    toc: true\n    toc_float:\n      collapsed: true\ncategories: [Exploration]\n---\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load raw data from targets\nraw_data <- tar_read(raw_data)\n```\n:::\n\n\n## Introduction\n\nThis report focuses on the analysis of daily caloric supply derived from carbohydrates, protein, and fat across multiple countries from 1961 to the most recent available year 2022. The objective is to examine global dietary patterns over time, identify regional differences in macronutrient consumption, and explore trends in protein intake from animal-based and plant-based sources.\n\n#### Data\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Glimpse of data\n\nglimpse(raw_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 12,877\nColumns: 7\n$ Entity                                                          <chr> \"Afgha…\n$ Code                                                            <chr> \"AFG\",…\n$ Year                                                            <int> 1961, …\n$ Daily.calorie.supply.per.person.that.comes.from.animal.protein  <dbl> 52.592…\n$ Daily.calorie.supply.per.person.that.comes.from.vegetal.protein <dbl> 277.46…\n$ Daily.calorie.supply.per.person.from.fat                        <dbl> 328.06…\n$ Daily.calorie.supply.per.person.from.carbohydrates              <dbl> 2256.2…\n```\n\n\n:::\n:::\n\n\nOur World in Data is an online platform that provides accessible and comprehensive data on global development issues. The following dataset is used from the platform for analysis:\n\n[Daily caloric supply derived from carbohydrates, protein and fat](https://ourworldindata.org/grapher/daily-caloric-supply-derived-from-carbohydrates-protein-and-fat?tab=table&time=earliest): The dataset, provided by Our World in Data, is sourced from the Food and Agriculture Organization (FAO) of the United Nations. It documents the average daily caloric supply per person derived from three primary macronutrients, carbohydrates, protein, and fat, for numerous countries and regions globally. The data spans several decades, offering valuable insights into nutritional trends and shifts over time.\n\n-   **Source**: Our World in Data – Daily Caloric Supply Derived from Carbohydrates, Protein, and Fat\n-   **Data Provider**: Food and Agriculture Organization (FAO), United Nations\n-   **License**: Creative Commons Attribution 4.0 International License (CC BY 4.0), which allows for sharing and adaptation with proper credit.\n-   **Data Collection**: Data is collected annually and reflects national food supply estimates, providing an overview of average caloric intake per person per day.\n\n#### *caloric_supply* Dataset Structure\n\nThe dataset consists of the following columns:\n\n-   **Entity**: The name of the country or region. Code The ISO 3166-1 alpha-3 country code.\n-   **Year**: The year of the data observation.\n-   **Animal Protein (kcal/person/day)**: Daily per capita caloric supply from animal-based proteins.\n-   **Vegetal Protein (kcal/person/day)**: Daily per capita caloric supply from plant-based proteins.\n-   **Fat (kcal/person/day)**: Daily per capita caloric supply from fats.\n-   **Carbohydrates (kcal/person/day)**: Daily per capita caloric supply from carbohydrates.\n\nEach row represents the average daily caloric intake for a specific country and year, broken down by macronutrient type.\n\n#### Data Limitations\n\nWhile the dataset provides comprehensive coverage of global dietary patterns, there are some limitations to consider:\n\n-   **Missing Country Codes**: Some regions or combined areas (e.g., \"Africa,\" \"Asia\") do not have ISO country codes, which may affect regional analyses.\n-   **Supply vs. Consumption**: The data represents the food supply rather than actual consumption, as it does not account for food waste, loss during transport, or spoilage.\n-   **Annual Aggregation**: The dataset provides annual averages, which do not capture seasonal dietary changes.\n-   **Limited Protein Breakdown**: The data only distinguishes between animal-based and plant-based protein sources, without further granularity (e.g., beef vs. chicken for animal protein, or grains vs. legumes for vegetal protein).\n-   **Lack of Micronutrient Data**: Vitamins, minerals, and other micronutrients are not represented in this dataset.\n\n## Data Wrangling\n\n#### Renaming Variables\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load renamed data\nrenamed_data <- tar_read(renamed_data)\n\n# Display structure\nglimpse(renamed_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 12,877\nColumns: 7\n$ Country         <chr> \"Afghanistan\", \"Afghanistan\", \"Afghanistan\", \"Afghanis…\n$ Code            <chr> \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"AFG\"…\n$ Year            <int> 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, …\n$ Animal_Protein  <dbl> 52.59264, 52.41573, 55.23608, 55.75903, 58.14664, 62.7…\n$ Vegetal_Protein <dbl> 277.4622, 270.2443, 244.7503, 269.1064, 268.2374, 245.…\n$ Fat             <dbl> 328.0627, 329.0468, 337.5722, 341.0036, 347.9166, 349.…\n$ Carbohydrates   <dbl> 2256.246, 2183.914, 1986.155, 2206.713, 2201.896, 2005…\n```\n\n\n:::\n:::\n\n\n#### Missing Value Analysis\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Load trimmed data\ntrimmed_data <- tar_read(trimmed_data)\n\n#Convert empty strings to NA\nconverted_data <- tar_read(converted_data)\n\n#Detect missing values\nmissing_values <- tar_read(missing_values)\n\n# Display missing value count\nmissing_values\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Country            Code            Year  Animal_Protein Vegetal_Protein \n              0            2661               0               0               0 \n            Fat   Carbohydrates \n              0               0 \n```\n\n\n:::\n:::\n\n\n-   In the entire dataset only variable `Code` has missing values.\\\n-   It currently has 2661 missing codes, which is 4.5% of the total dataset.\n\n#### Evaluating and Handling Missing values\n\n-   After evaluating the missing values in the dataset, we can see that only column `Code` has missing values. The missing values are primarily associated with `Country` column, which contains regions or combined areas (e.g., \"Africa,\" \"Asia\") that do not have ISO country codes.\n-   For the analysis, we will focus on countries with valid ISO codes and exclude regions or combined areas without specific country codes.\n-   Therefore, the following aggregated regions such as FAO regional groups, income categories, and political regions were removed as part of the data cleaning process. These entries represent regional or economic aggregates that do not correspond to specific, identifiable nations. Including them in the analysis would distort country-level comparisons and mask the true performance of individual nations in terms of macronutrient consumption.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load cleaned data after removing regions\ncleaned_data <- tar_read(data_cleaned)\n\n#Display missing values after cleaning\npost_clean <- tar_read(missing_post_clean)\npost_clean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        Country            Code            Year  Animal_Protein Vegetal_Protein \n              0               0               0               0               0 \n            Fat   Carbohydrates \n              0               0 \n```\n\n\n:::\n:::\n\n\n#### Duplicates Analysis\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Duplicate check\nduplicate_count <- tar_read(duplicate_check)\nduplicate_count\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n:::\n\n\n-   The data cleaning process revealed no duplicate entries in the dataset. This ensures that each observation is unique and accurately represents a specific country and year combination.\n\n## Exploratory Data Analysis\n\n#### Global Trends in Macronutrient Consumption\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load the summarized data by year\nsummary_data <- tar_read(summary_data)\n\n#Plot global trends in macronutrient consumption\nplot_1 <- tar_read(plot_trends)\nplot_1\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\nThis plot shows the absolute values of daily kilocalorie intake per person for each macronutrient (Animal Protein, Vegetal Protein, Fat, and Carbohydrates) from 1960 to 2020. Helps understand the growth in consumption volume over the years, highlighting the rise in fat intake and the relatively stable intake of proteins.\n\n-   Carbohydrates: Carbohydrates have consistently been the largest source of daily energy, providing over 1500 kcal per person per day. While relatively stable, there has been a slow but steady increase over time, suggesting that staples like rice, wheat, and maize continue to be dietary mainstays across the world.\n\n-   Fat Consumption: Fat intake has shown a steady climb since 1961, with sharper increases noticeable after the 1980s. This growth likely reflects shifts towards more processed foods and calorie-dense diets as countries urbanize and food systems globalize. The steady rise in fat consumption suggests changing eating habits that prioritize richer, high-energy foods.\n\n-   Protein Intake: Both animal-based and plant-based proteins have seen modest growth, remaining under 500 kcal per person per day. Animal protein consumption has increased gradually, especially in wealthier nations with rising meat consumption. Vegetal protein remains steady, reflecting its role in more plant-based diets, especially in Asia and Africa.\n\n#### Exploring Top 3 Countries for Animal Protein Consumption by Decade\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Compute Top 3 for Animal Protein \ntop3_animal_protein <- tar_read(top3_animal_protein)\n\n#Plot top 3 countries for Animal Protein by decade\nplot_top3_animal_protein <- tar_read(plot_top3_animal_protein)\nplot_top3_animal_protein\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\nFrom the Analysis of Animal Protein Consumption by Decade the key observations are as follows:\n\n-   Iceland's Consistent Top Position Iceland consistently ranks as the highest consumer of animal protein per person across all observed decades. The average daily intake in Iceland was 358.1 kcal in 1960 and steadily increased to 426.1 kcal by 2010, with a slight decrease to 421 kcal in 2020. This trend indicates strong dietary reliance on animal-based food sources that has remained stable over time.\n\n-   Shifts in Leading Countries Over Time While Iceland's position remained constant, the second and third spots varied: In the 1960s and 1970s, Australia and New Zealand were prominent, reflecting their strong livestock industries. During the 1980s and 1990s, France emerged as a leading consumer alongside Hong Kong, which continued to rank highly in subsequent decades. By 2020, Mongolia entered the top three for the first time, suggesting increased animal protein consumption in the region.\n\n-   Changes in Consumption Levels The plot indicates an overall increase in animal protein consumption among the top-ranking countries over the six-decade span. Iceland's average intake grew by approximately 68 kcal per person per day from 1960 to 2020, highlighting a steady upward trend. Notably, Hong Kong saw substantial growth, particularly evident from 2010 onwards, indicating rising consumption levels.\n\n#### Macronutrient Proportion Analysis\n\nThe stacked area chart illustrates the shifting proportions of global caloric intake from 1961 to 2022. It visualizes how different macronutrients—Animal Protein, Vegetal Protein, Fat, and Carbohydrates, contribute to the global dietary structure over time.\n\n-   The plot represents the proportion of global caloric intake for each macronutrient annually.\n-   For each year, the total caloric intake for all countries combined is computed, and the contribution of each macronutrient is expressed as a fraction of this total.\n-   This perspective reveals the relative share of each macronutrient in the global diet, highlighting dietary shifts over the decades.\n-   The stacked area design effectively captures the long-term trends, such as the steady dominance of carbohydrates, the gradual increase in fat consumption, and the relative stability of protein sources.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Aggregating by macronutrient\nsum_data <- tar_read(sum_data)\n\n#Calculating proportions\ncalorie_prop <- tar_read(calorie_prop)\n\n#Converting to wide format\nlong_prop <- tar_read(long_prop)\n\n#Plot proportions of macronutrients\nplot_proportions <- tar_read(plot_proportions)\nplot_proportions\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n-   Carbohydrates Remain Dominant: Carbohydrates consistently account for the largest proportion of global caloric intake. Despite some fluctuations, their share has remained relatively stable over six decades, indicating a strong global reliance on carbohydrate-rich staples like grains and starchy vegetables.\n\n-   Gradual Rise in Fat Consumption: The proportion of calories derived from fat has shown a noticeable increase, particularly since the 1980s. This growth reflects dietary shifts towards higher-fat food items, potentially driven by increased consumption of processed foods and oils. The rise is gradual but steady, signaling a global trend towards richer, calorie-dense diets.\n\n-   Stable Share of Animal and Vegetal Protein: The relative contribution of Animal Protein and Vegetal Protein to the total caloric intake has remained largely unchanged. While absolute consumption has grown, their proportional share of the total global caloric intake has not shifted significantly. This indicates that while populations are consuming more food overall, the balance between protein sources remains steady.\n\nConclusion: The stacked area chart effectively captures long-term global dietary patterns. Carbohydrates continue to be the primary source of global energy intake. Fat consumption, while still secondary, is the only macronutrient with a visibly increasing share. Meanwhile, Animal and Vegetal Protein maintain consistent proportions, reflecting stable dietary roles over the decades.\n\n## Modelling Fat Consumption\n\nThe time series for global fat consumption was created using the annual global average fat consumption data from 1961 to 2022. The summary statistics of the time series are as follows:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Preparing the data for time series modeling \nfat_ts <- tar_read(fat_ts)\n\n#Summary time series data \nsummary_fat_ts <- tar_read(summary_fat_ts)\nsummary_fat_ts\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  489.0   584.8   660.5   665.9   748.2   854.9 \n```\n\n\n:::\n:::\n\n\n-   Minimum Consumption: 489 kcal per person per day (observed in the early 1960s).\n-   1st Quartile: 585 kcal per person per day.\n-   Median: 661 kcal per person per day.\n-   Mean: 666 kcal per person per day.\n-   3rd Quartile: 748 kcal per person per day.\n-   Maximum Consumption: 855 kcal per person per day (observed in recent years).\n\nThese figures reflect a significant rise in global fat consumption per person over time, with notable accelerations in the 1990s and 2010s. The observed upward trend indicates a gradual increase in dietary fat intake worldwide.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Time series plot\nplot_fat_ts <- tar_read(plot_fat_ts)\nplot_fat_ts\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n-   The time series plot illustrates a steady and relatively linear increase in average fat consumption over the 61-year period. This consistent upward trend suggests a global dietary shift towards higher fat intake, influenced by changes in dietary habits, economic development, and food availability.\n-   The slope of the increase indicates a gradual but persistent rise, suggesting that the global trend in fat consumption has not been significantly disrupted by global events during the observed period.\n-   The maximum recorded average consumption of 855 kcal per person per day in recent years marks a considerable increase from the early 1960s.\n\n#### ARIMA Model Fit\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# ARIMA model \nfat_arima <- tar_read(fat_arima)\n\n#Model Summary\nfat_arima_summary <- tar_read(fat_arima_summary)\nfat_arima_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSeries: fat_ts \nARIMA(0,1,0) with drift \n\nCoefficients:\n       drift\n      5.9994\ns.e.  0.6371\n\nsigma^2 = 25.17:  log likelihood = -184.43\nAIC=372.87   AICc=373.08   BIC=377.09\n\nTraining set error measures:\n                      ME     RMSE      MAE          MPE      MAPE      MASE\nTraining set 0.007790046 4.935827 3.600444 -0.005469347 0.5343166 0.5723284\n                  ACF1\nTraining set 0.1625095\n```\n\n\n:::\n:::\n\n\nThe ARIMA model selected by auto.arima() for global average fat consumption data is an ARIMA(0,1,0) with drift, indicating that the model captures the trend as a random walk with drift.\n\n**Model Coefficient**\n\n-   Drift: The model estimates an average increase of approximately 6 kcal per year in global average fat consumption. This reflects a gradual and consistent rise in fat intake per person over the decades.\n-   Standard Error of Drift: The standard deviation of the drift estimate is approximately 0.64, indicating relatively low variability around the average increase.\n\n**Model Diagnostics**\n\n-   Residual Variance: The variance of the residuals is around 25.17, indicating moderate variability in prediction errors. Log Likelihood: -184.43, suggesting that the model fits the data reasonably well.\n-   AIC: 372.87, AICc: 373.08, BIC: 377.09, indicating a well-fitted model without excessive complexity.\n\n**Error Metrics**\n\n-   Mean Error (ME): 0.008 kcal, indicating almost negligible bias.\n-   Root Mean Square Error (RMSE): 4.94 kcal, reflecting the average error magnitude.\n-   Mean Absolute Error (MAE): 3.60 kcal, showing that the model's average absolute deviation from observed values is minimal.\n-   Mean Absolute Percentage Error (MAPE): 0.53%, indicating very high predictive accuracy.\n-   Autocorrelation at Lag 1 (ACF1): 0.16, suggesting low autocorrelation in residuals.\n\n#### Forecast\n\n##### Forecast Analysis\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# ARIMA Forecasting\nfat_forecast <- tar_read(fat_forecast)\n\n# Plot the forecast\nplot_fat_forecast <- tar_read(plot_fat_forecast)\nplot_fat_forecast\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\nThe ARIMA model forecasts that global average fat consumption will continue to increase at an approximate rate of 6 kcal per person per day over the next decade (2023–2032).\n\n-   The solid black line in the plot represents actual global average fat consumption from 1961 to 2022.\n-   The blue line shows forecasted values for the next 10 years, indicating a consistent upward trend.\n-   The light blue area marks the 80% confidence interval, and the dark blue area marks the 95% confidence interval. These intervals reflect the range within which future values are likely to fall.\n\n#### Predicted vs Actual\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Load global trends with predictions\nglobal_trends_predicted <- tar_read(global_trends_predicted)\n\n# Plot Actual vs Predicted\nplot_actual_vs_predicted <- tar_read(plot_actual_vs_predicted)\nplot_actual_vs_predicted\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n-   The plot compares the actual global average fat consumption from 1961 to 2022 with the predicted values from the ARIMA(0,1,0) with drift model.\n-   The red line shows observed fat consumption, while the dashed blue line represents predictions.\n-   The model accurately captures the upward trend with minimal deviation, demonstrating strong predictive alignment.\n-   Minor discrepancies are visible during rapid increases but do not impact overall reliability.\n-   Error metrics, RMSE of 4.94, MAE of 3.60, and MAPE of 0.53%, indicate high predictive accuracy.\n\n#### Residual Diagnostics\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Residuals\nresidual_diagnostics_test <- tar_read(residual_diagnostics_test)\nresidual_diagnostics_test\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tLjung-Box test\n\ndata:  Residuals from ARIMA(0,1,0) with drift\nQ* = 9.3382, df = 10, p-value = 0.5003\n```\n\n\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n# Residual plot\nknitr::include_graphics(tar_read(residual_diagnostics_plot))\n```\n\n::: {.cell-output-display}\n![](residuals_diagnostics_plot.png){fig-align='center' width=100%}\n:::\n:::\n\n\nThe ARIMA(0,1,0) with drift model was evaluated using residual diagnostics: - Ljung-Box Test: A p-value of 0.5003 indicates no significant autocorrelation, suggesting the model captured the time-dependent structure well. - Residual Plot: Residuals fluctuate around zero with occasional spikes but remain mostly stable. - ACF Plot: Minimal autocorrelation is observed, with most lags within confidence intervals. - Density Plot: Residuals are approximately normally distributed with slight skew.\n\nOverall, the diagnostics confirm the model's reliability for forecasting global fat consumption.\n\n## Model Output and EDA Discussion\n\n-   The ARIMA(0,1,0) with drift model effectively captures the upward trend in global fat consumption observed in the Global Trends in Macronutrient Consumption (1961 - 2022) plot. The model's estimated drift of 5.99 kcal per person per year aligns with the steady increase shown in the EDA visualization, demonstrating its reliability in modeling long-term growth.\n\n-   The Proportion of Global Caloric Intake by Macronutrient plot highlights fat's rising share over time, which the ARIMA model projects into future periods. While carbohydrates remain dominant and protein sources stable, fat's contribution has grown steadily. The Actual vs. Predicted plot shows strong alignment, with low error metrics (RMSE: 4.94, MAE: 3.60, MAPE: 0.53%), affirming predictive accuracy.\n\n-   Residual diagnostics confirm well-behaved residuals with no significant autocorrelation, validating the model's capacity to capture fat consumption trends effectively.\n\nOverall, the ARIMA model not only matches historical EDA trends but also projects them confidently into the future, demonstrating accuracy and consistency in reflecting global dietary shifts.\n\n## Conclusion\n\nThe analysis of global macronutrient consumption from 1961 to 2022 reveals clear trends: carbohydrates remain the largest source of calories, while fat consumption has steadily increased. The ARIMA(0,1,0) model effectively captured this upward trend, forecasting continued growth in fat intake over the next decade. Iceland consistently emerged as the top consumer of animal protein across decades, reflecting stable dietary patterns. Overall, the data indicates persistent global dietary habits, with rising fat consumption pointing to broader nutritional shifts and changing food preferences worldwide.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}