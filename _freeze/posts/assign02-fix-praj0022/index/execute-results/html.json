{
  "hash": "96ea00b8f095d2b3fc7dc54a8313b209",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Diving Deeper into Data Exploration: Olympic Data\"\nauthor: \"Pooja Rajendran Raju\"\ndate: \"Aug 5, 2024\"\nquarto-required: \">=1.3.0\"\noutput:\n    html: \n        embed-resources: true\n        code-fold: true\ncategories: [Exploration]\n---\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n## Exploration of Olympic Medal Data \n\n## Becoming Tukey\n\n**a. Top 10 Countries by Gold Medal Count**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Web scraping the wikipedia medal tally page \nwiki_link <- \"https://en.wikipedia.org/wiki/2024_Summer_Olympics_medal_table\"\nwiki_page <- read_html(wiki_link)\n\n#Reading all tables in the page\ntables <- html_nodes(wiki_page, \"table\")\n\n#Selecting the olympic medal table \nmedal_table <- tables[[3]]\n\n#Converting to dataframe \nmedal_tally <- html_table(medal_table, fill = TRUE)\n\n#Cleaning the data scrapped\nmedal_tally <- medal_tally |>\n  mutate(NOC = str_replace_all(NOC, \"\\\\*|[‡]\", \"\"))\n\ntop_10 <- medal_tally |> \n        select(Rank, NOC, Gold) |>\n        head(10)\n\nkable(top_10, caption = \"Top 10 Countries by Gold Medal Count\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 10 Countries by Gold Medal Count</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Rank </th>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:left;\"> China </td>\n   <td style=\"text-align:right;\"> 40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:left;\"> Japan </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:left;\"> Australia </td>\n   <td style=\"text-align:right;\"> 18 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 5 </td>\n   <td style=\"text-align:left;\"> France </td>\n   <td style=\"text-align:right;\"> 16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:left;\"> Netherlands </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:left;\"> Great Britain </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:left;\"> South Korea </td>\n   <td style=\"text-align:right;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 9 </td>\n   <td style=\"text-align:left;\"> Italy </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 10 </td>\n   <td style=\"text-align:left;\"> Germany </td>\n   <td style=\"text-align:right;\"> 12 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**b. Top 10 Countires Based on Gold Medals Per Capita**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\npopulation <- read_csv(\"data/population-and-demography.csv\")\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Cleaning the population data \npopulation <- population |> \n             filter(Year == \"2023\") |> \n              drop_na()\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Generating the country codes for medal data \n# Manually set code for Kosovo based on code present in population data as it was not generating using 'countrycode' package\n\nmedal_tally <- medal_tally |>\n  mutate(Code = case_when(\n    NOC == \"Kosovo\" ~ \"OWID_KOS\",  \n    TRUE ~ countrycode(NOC, origin = \"country.name\", destination = \"iso3c\")\n  ))\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\noptions(scipen = 999)\n\n# Coming the medal tally and population data \ncombined_data <- left_join(medal_tally, \n                           population, \n                           by = \"Code\")\n\n# Cleaning combined data and converting population into millions\ncombined_data <- combined_data |> \n        select(NOC, Gold, Silver, Bronze, Total, `Population - Sex: all - Age: all - Variant: estimates`) |>\n        mutate(`Population (Millions)`  = `Population - Sex: all - Age: all - Variant: estimates` / 1000000) |>                   \n        select(-`Population - Sex: all - Age: all - Variant: estimates`)\n\n# Calculating medals per capita\ncombined_data_top <- combined_data |> \n  mutate(Medals_Per_Capita = Gold / `Population (Millions)`) |> \n  arrange(desc(Medals_Per_Capita)) |> \n  mutate(Rank = row_number()) |> \n  head(10)\n\n\nkable(combined_data_top, caption = \"Top 10 Countries Based on Gold Medals Per Capita\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 10 Countries Based on Gold Medals Per Capita</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> Population (Millions) </th>\n   <th style=\"text-align:right;\"> Medals_Per_Capita </th>\n   <th style=\"text-align:right;\"> Rank </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Dominica </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.07 </td>\n   <td style=\"text-align:right;\"> 15.03 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Saint Lucia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.18 </td>\n   <td style=\"text-align:right;\"> 5.58 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> New Zealand </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 5.17 </td>\n   <td style=\"text-align:right;\"> 1.93 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bahrain </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1.57 </td>\n   <td style=\"text-align:right;\"> 1.27 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Slovenia </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 3 </td>\n   <td style=\"text-align:right;\"> 2.12 </td>\n   <td style=\"text-align:right;\"> 0.94 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Netherlands </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:left;\"> 34 </td>\n   <td style=\"text-align:right;\"> 18.09 </td>\n   <td style=\"text-align:right;\"> 0.83 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Georgia </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 3.81 </td>\n   <td style=\"text-align:right;\"> 0.79 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ireland </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 5.20 </td>\n   <td style=\"text-align:right;\"> 0.77 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Norway </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 8 </td>\n   <td style=\"text-align:right;\"> 5.52 </td>\n   <td style=\"text-align:right;\"> 0.72 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Australia </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:left;\"> 53 </td>\n   <td style=\"text-align:right;\"> 26.45 </td>\n   <td style=\"text-align:right;\"> 0.68 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**c. Five New Ways of Ranking the Olympic Countries** \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Web scraping the wikipedia page to get count of participants from each country \nparticipant_link <- \"https://simple.wikipedia.org/wiki/2024_Summer_Olympics#Competing_nations\"\nwiki_part <- read_html(participant_link)\n\ntables_part <- html_nodes(wiki_part, \"table\")\n\n#Selecting the participant count table \nparticipant_table <- tables_part[[5]]\n\n#Converting to dataframe \nparticipant_tally <- html_table(participant_table, fill = TRUE)\n\n#Cleaning the scrapped data \nparticipant_tally <- participant_tally |>\n  mutate(Country = str_replace_all(Country, \"\\\\*|[‡]\", \"\"))\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Joining the participant tally with existing data\njoin_part <- left_join(combined_data, \n                       participant_tally,\n                      by = c(\"NOC\" = \"Country\")) |> \n              select(-Ranking)\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Reading the GPD per capita data \ngdp_per_capita <- read_csv(\"data/gdp-per-capita-worldbank.csv\")\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ngdp_per_capita <- gdp_per_capita |> \n  filter(Year == \"2022\") |> \n  rename(`GDP_Per_Capita ($)` = `GDP per capita, PPP (constant 2017 international $)`)\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Combining the GDP data other olymic data\nfull_data <- left_join(join_part, \n                       gdp_per_capita,\n                      by = c(\"NOC\" = \"Entity\")) |> \n            select(-Code, -Year)\n```\n:::\n\n\n#### Method 1: Medals Per Total Athletes  \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nmethod_1 <- full_data |>\n  mutate(medal_efficiency = as.numeric(Total) / Athletes) |>\n  arrange(desc(medal_efficiency)) |>\n  select(-`Population (Millions)`, -`GDP_Per_Capita ($)`) |>\n  head(5)\n\n# Top countries by Medal Efficiency Index\nkable(method_1, \n      caption = \"Top 5 Countires Based on Medals Per Total Athletes\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 5 Countires Based on Medals Per Total Athletes</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> Athletes </th>\n   <th style=\"text-align:right;\"> medal_efficiency </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Saint Lucia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Kyrgyzstan </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 0.38 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> North Korea </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 0.38 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Grenada </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.33 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Iran </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0.30 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n- This metric evaluates how effectively countries convert the number of athletes they send to the Olympics into actual medals won. It measures the success of a nation by comparing the number of medals (gold, silver, and bronze) achieved relative to the total number of athletes they have participating. A higher value in this index indicates that a country is more successful at converting its athletic representation into medals, reflecting greater efficiency in their Olympic performance. This method highlights how well countries manage to achieve medal success with the athletes they send, emphasizing performance efficiency.\n\n#### Method 2: Total Medals Per Capita\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nmethod_2 <- full_data |>\n  mutate(population_adjusted_medals = as.numeric(Total) / `Population (Millions)`) |>\n  arrange(desc(population_adjusted_medals)) |> \n  select(-Athletes, -`GDP_Per_Capita ($)`) |>\n  head(5)\n\n# Top 5 countries by medals relative to population\nkable(method_2, \n      caption = \"Top 5 Countires Based on Total Medals Per Capita\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 5 Countires Based on Total Medals Per Capita</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> Population (Millions) </th>\n   <th style=\"text-align:right;\"> population_adjusted_medals </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Grenada </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.12 </td>\n   <td style=\"text-align:right;\"> 17.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dominica </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0.07 </td>\n   <td style=\"text-align:right;\"> 15.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Saint Lucia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0.18 </td>\n   <td style=\"text-align:right;\"> 11.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> New Zealand </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 20 </td>\n   <td style=\"text-align:right;\"> 5.17 </td>\n   <td style=\"text-align:right;\"> 3.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bahrain </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1.57 </td>\n   <td style=\"text-align:right;\"> 2.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n- This metric normalizes the total count of medals won (gold, silver, and bronze) by factoring in the population size of each country. It calculates the total number of medals per population (millions), allowing for a comparison that adjusts for the size of the population. This approach offers a per capita assessment of Olympic success, providing a more equitable measure of performance between countries of varying sizes, rather than focusing only on the count of gold medals or gold medals per capita.\n\n#### Method 3: Medals per unit of GDP Per Capita\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nmethod_3 <- full_data |>\n  mutate(medals_per_gdp_unit = (as.numeric(Total) / `GDP_Per_Capita ($)`) * 100) |>\n  arrange(desc(medals_per_gdp_unit)) |>\n select(-Athletes, -`Population (Millions)`) |> \n  head(5)\n\n# Top 5 countries by medals relative to GDP per capita\nkable(method_3, \n      caption = \"Top 5 Countires Based on Medals per unit of GDP Per  Capita\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 5 Countires Based on Medals per unit of GDP Per  Capita</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> GDP_Per_Capita ($) </th>\n   <th style=\"text-align:right;\"> medals_per_gdp_unit </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> China </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:left;\"> 91 </td>\n   <td style=\"text-align:right;\"> 18188 </td>\n   <td style=\"text-align:right;\"> 0.50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Kenya </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> 11 </td>\n   <td style=\"text-align:right;\"> 4882 </td>\n   <td style=\"text-align:right;\"> 0.23 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> United States </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:left;\"> 126 </td>\n   <td style=\"text-align:right;\"> 64623 </td>\n   <td style=\"text-align:right;\"> 0.19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ethiopia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2381 </td>\n   <td style=\"text-align:right;\"> 0.17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Uzbekistan </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 13 </td>\n   <td style=\"text-align:right;\"> 8073 </td>\n   <td style=\"text-align:right;\"> 0.16 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n- This metric evaluates how efficiently countries convert their economic resources, measured as GDP per capita, into Olympic medals. By determining the number of medals achieved per unit of GDP per capita and expressing this as a percentage, it sheds light on how effectively a country uses its financial means to succeed in the Olympics. A higher percentage indicates a greater ability to convert economic investment into athletic success. This approach provides insight into how well countries of different economic standings perform, highlighting the effectiveness of their economic resources in securing medals.\n\n#### Method 4: Weighted Medal Count Per Athletes\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nmethod_4 <- full_data |>\n  mutate(weighted_medal_count = (Gold * 3 + Silver * 2 + Bronze * 1) / Athletes)|>\n  arrange(desc(weighted_medal_count)) |>\n  select(-`GDP_Per_Capita ($)`, -`Population (Millions)`) |> \n  head(5)\n\n# Top 5 countries by Weighted Medal Count Per athletes\nkable(method_4, \n      caption = \"Top 5 Countires Based on Weighted Medal Count Per Athletes\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 5 Countires Based on Weighted Medal Count Per Athletes</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> Athletes </th>\n   <th style=\"text-align:right;\"> weighted_medal_count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Saint Lucia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1.25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Dominica </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.75 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Iran </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> 12 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0.60 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Georgia </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> 7 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 0.57 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> China </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:left;\"> 91 </td>\n   <td style=\"text-align:right;\"> 388 </td>\n   <td style=\"text-align:right;\"> 0.51 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n- This method assigns different weights to each type of medal, with gold receiving a weight of 3, silver a weight of 2, and bronze a weight of 1. These weights reflect the varying prestige of each medal, acknowledging that gold medals are more significant than silver or bronze. The weighted total is then divided by the number of athletes from each country, providing a measure of how effectively a nation converts its athlete participation into high-value medal achievements. A higher score indicates that a country not only wins medals but does so by prioritizing the most prestigious ones, offering a more nuanced view of Olympic success that factors in both medal quality and athlete efficiency.\n\n#### Method 5: Weighted Medals per GDP and Athletes\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nmethod_5 <- full_data |>\n  mutate(medal_value_index = ((Gold * 3 + Silver * 2 +Bronze * 1) / (`GDP_Per_Capita ($)` * Athletes)) * 100) |>\n  arrange(desc(medal_value_index)) |>\n  select(-`Population (Millions)`) |> \n  head(5)\n\n# Top 5 countries by Weighted Medal Count Per per GDP and Athletes\nkable(method_5, \n      digits = c(0, 0, 0, 0,0,0,0, 5), \n      caption = \"Top 5 Countires Based on Weighted Medals per GDP and Athletes\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\")) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top 5 Countires Based on Weighted Medals per GDP and Athletes</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> NOC </th>\n   <th style=\"text-align:right;\"> Gold </th>\n   <th style=\"text-align:right;\"> Silver </th>\n   <th style=\"text-align:right;\"> Bronze </th>\n   <th style=\"text-align:left;\"> Total </th>\n   <th style=\"text-align:right;\"> Athletes </th>\n   <th style=\"text-align:right;\"> GDP_Per_Capita ($) </th>\n   <th style=\"text-align:right;\"> medal_value_index </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Ethiopia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 4 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 2381 </td>\n   <td style=\"text-align:right;\"> 0.0111 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Kyrgyzstan </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:left;\"> 6 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 5070 </td>\n   <td style=\"text-align:right;\"> 0.0099 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Uganda </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 2280 </td>\n   <td style=\"text-align:right;\"> 0.0091 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Saint Lucia </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 2 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 15100 </td>\n   <td style=\"text-align:right;\"> 0.0083 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Pakistan </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:left;\"> 1 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 5377 </td>\n   <td style=\"text-align:right;\"> 0.0080 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n- The Medal Value Index assesses how effectively a country turns its economic resources and athletes into Olympic medals. It weights medals (3 points for gold, 2 for silver, and 1 for bronze), and divides the total by GDP per capita and the number of athletes. This provides insight into a nation's efficiency in converting resources into medals. A higher percentage suggests that a country excels at winning medals with fewer resources or athletes, while a lower percentage highlights higher resource requirements for the same achievement.\n\n## Chatfield-style IDA\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Reading the original data \nfuel_data <- read_csv(\"data/world_indicators_data_original.csv\", na = \"..\", n_max = 11935)\n```\n:::\n\n\n- The population of interest in this context would be all households or individuals in a given region or country that rely on various types of fuels for cooking. This could be within a specific country, region, or globally, depending on the scope of the analysis.\n\n# Data Screening \n\n**Evaluating Data Type Composition**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nvis_dat(fuel_data)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-19-1.png){fig-align='center' width=100%}\n:::\n:::\n\n- Checking the dataset using 'vis_dat' to understand the data type composition of the dataset. Here, the dataset is mainly composed of character type variables, numeric variables and NA's. \n\n**Evaluating Structure of Data**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Note: output is hidden in the report because of high number of variables\nglimpse(fuel_data)\n```\n:::\n\n\n- Using to 'glimpse' function shows each variable's name, data type, and a few of the first values, allowing for a quick assessment of the dataset's structure and content, helping to verify data types and quickly understand the data.\n\n**Creating a Continent and Region Summary**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Creating clean variable names and generating regions and continent for each country\ncountry_code_df <- fuel_data |>\n  distinct(`Country Name`, `Country Code`)  |>\n  rename_all(janitor::make_clean_names)  |>\n  left_join(\n    countrycode::codelist |> select(iso3c, region, continent),\n    by = c(\"country_code\" = \"iso3c\"))  |>\n  arrange(continent, region) \n\n# Creating the continent wise summary\ncontinent_summary <- country_code_df |>\n  group_by(continent) |>\n  summarise(n = n())\n\nkable(continent_summary, \n      caption = \"Continent Summary\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Continent Summary</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> continent </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Africa </td>\n   <td style=\"text-align:right;\"> 54 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Americas </td>\n   <td style=\"text-align:right;\"> 46 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Asia </td>\n   <td style=\"text-align:right;\"> 50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Europe </td>\n   <td style=\"text-align:right;\"> 46 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Oceania </td>\n   <td style=\"text-align:right;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 54 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\n# Creating the region wise summary\nregion_summary <- country_code_df |>\n  group_by(region) |>\n  summarise(n = n())\n\nkable(region_summary, \n      caption = \"Region Summary\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Region Summary</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> region </th>\n   <th style=\"text-align:right;\"> n </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> East Asia &amp; Pacific </td>\n   <td style=\"text-align:right;\"> 37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Europe &amp; Central Asia </td>\n   <td style=\"text-align:right;\"> 56 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Latin America &amp; Caribbean </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Middle East &amp; North Africa </td>\n   <td style=\"text-align:right;\"> 21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> North America </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> South Asia </td>\n   <td style=\"text-align:right;\"> 8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Sub-Saharan Africa </td>\n   <td style=\"text-align:right;\"> 48 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:right;\"> 54 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n- Creating a continent and region summary during the data screening phase of Initial Data Analysis (IDA) is valuable because it helps in understanding the geographic distribution of the data, spotting potential errors or anomalies linked to specific regions, and ensuring that the dataset is well-structured before further analysis. It can also guide decisions on whether certain regions or continents require different handling or if there are missing or incomplete data that need attention.\n\n# Data Cleaning \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Creating a new variable to store the series name and series code\nwdi_vars <- fuel_data  |>\n  select(`Series Name`, `Series Code`) |>\n  distinct() |>\n  rename_all(janitor::make_clean_names) \n\nwrite.csv(wdi_vars, \"data/valid_fuel_variables.csv\", row.names = FALSE)\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Converting the data to tidy form and using janitor to make clean variable names\nfuel_tidy <- fuel_data  |>\n  select(`Country Name`, `Country Code`, `Series Code`, `2004 [YR2004]`:`2022 [YR2022]`) |>\n  rename_all(janitor::make_clean_names) |>\n  pivot_longer(x2004_yr2004:x2022_yr2022,\n               names_to = \"year\", \n               values_to = \"value\") |>\n  mutate(year = as.numeric(str_sub(year, 2, 5)) ) \n\n#Removing empty strings \nfuel_tidy <- fuel_tidy[fuel_tidy$series_code != \"\", ]\n\n\nfuel_tidy <- fuel_tidy |>   \n  pivot_wider(names_from = series_code,\n              values_from = value)\n```\n:::\n\n\nIn the above code, we are making clean names for variables using the janitor package. We are further converting the time series variables from wide to long format and then converting the series code column into variables using pivot_wider. Doing this ensures that the data is in tidy form and easier to use and manipulate. \n\n#### Checking the Missing Value Percentage for Each Variable \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Calculating the missing percentage for each variable\nmissing_summary <- fuel_tidy |>\n  summarise(across(everything(), ~ sum(is.na(.)) / n() * 100)) |> \n  pivot_longer(cols = everything(),\n               names_to = \"variable\", \n               values_to = \"missing_percentage\") \n\n#Plotting the missing percentage for each variable\nggplot(missing_summary, \n       aes(x = reorder(variable,-missing_percentage), \n           y = missing_percentage)) +\n  geom_bar(stat = \"identity\", \n           fill = \"skyblue\") +\n  coord_flip() + \n  labs(title = \"Missing Data Percentage by Variable\",\n       x = \"Variable\",\n       y = \"Missing Percentage (%)\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-24-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n- Understanding the missing values percentage for each variable helps to decide if to keep the variable or not. Here, we can observe that all variables related to CO2 emissions and fossil fuel consumption have a high % (> 30%) of missing values. While, the last variable related to Diesel Pump price has the highest at just over 70% missing values. \n\n- Before removing the variables based on missing percentage, lets check the importance or relevance of the variable to the research question. \n\n> Is access to clean fuels for cooking related to fuel imports or exports?\n\n__Based on evaluation, the primary variables of interest are__: \n\n- **EG.CFT.ACCS.ZS**: Access to clean fuels and technologies for cooking (% of population)  \n- **EG.CFT.ACCS.RU.ZS**: Access to clean fuels and technologies for cooking, rural (% of rural population)\n- **EG.CFT.ACCS.UR.ZS**: Access to clean fuels and technologies for cooking, urban (% of urban population)\n- **TX.VAL.FUEL.ZS.UN**: Fuel exports (% of merchandise exports)\n- **TM.VAL.FUEL.ZS.UN**: Fuel imports (% of merchandise imports)\n\n__Variables not of interest to our research question__: \n\n1. Variables related to CO2 emissions \nCO2 emissions variables assess the environmental impact of fuel use by focusing on carbon emissions rather than on clean fuel access or fuel trade. Given that the research question is concerned with the relationship between access to clean fuels and fuel imports or exports, these emissions variables are not directly pertinent. These variables include: \"EN.CO2.ETOT.ZS\", \"EN.ATM.CO2E.GF.ZS\", \"EN.ATM.CO2E.GF.KT\", \"EN.ATM.CO2E.LF.ZS\", \"EN.ATM.CO2E.LF.KT\", \"EN.CO2.MANF.ZS\", \"EN.CO2.OTHX.ZS\", \"EN.CO2.BLDG.ZS\", \"EN.ATM.CO2E.SF.ZS\", \"EN.ATM.CO2E.SF.KT\", \"EN.CO2.TRAN.ZS\". \n\n2. Fossil Fuel Energy Consumption Variable\nThe Fossil Fuel Energy Consumption variable captures the usage of non-clean energy sources, representing the overall energy mix rather than directly addressing clean fuel access or trade. Although it may indirectly influence the availability or advancement of clean fuels, it does not directly measure access to clean fuels or a country's fuel imports and exports. The variable name is \"EG.USE.COMM.FO.ZS\". \n\n3. Pump price for diesel fuel variable \nThe Pump Price for Diesel Fuel is tied to market conditions and economic factors, rather than being directly linked to the availability of clean cooking fuels or fuel trade. Although it can affect overall energy costs, it doesn't offer specific insights into clean fuel access or the connection between fuel imports and exports. The variable name is \"EP.PMP.DESL.CD\"\n\nConsidering the variables missing values percentages and the variables of primary interest the new dataset is as follows: \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Filtering variables of interest\nrev_fuel <- fuel_tidy |> \n  select(country_name : EG.CFT.ACCS.UR.ZS, TX.VAL.FUEL.ZS.UN :   TM.VAL.FUEL.ZS.UN )\n\nglimpse(rev_fuel)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 5,054\nColumns: 8\n$ country_name      <chr> \"Afghanistan\", \"Afghanistan\", \"A…\n$ country_code      <chr> \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"AFG…\n$ year              <dbl> 2004, 2005, 2006, 2007, 2008, 20…\n$ EG.CFT.ACCS.ZS    <dbl> 10, 12, 14, 15, 17, 18, 20, 21, …\n$ EG.CFT.ACCS.RU.ZS <dbl> 1.9, 2.4, 3.0, 3.6, 4.3, 5.1, 5.…\n$ EG.CFT.ACCS.UR.ZS <dbl> 45, 50, 55, 59, 63, 66, 69, 72, …\n$ TX.VAL.FUEL.ZS.UN <dbl> NA, NA, NA, NA, NA, NA, NA, NA, …\n$ TM.VAL.FUEL.ZS.UN <dbl> NA, NA, NA, NA, 16.1, 23.6, 20.9…\n```\n\n\n:::\n:::\n\n\n#### Calcuting the Missing Value Percentage for Each Country \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Calculating the average missing percentage across all variables for each country\nmissing_percentage_per_country <- rev_fuel |>\n  group_by(country_code) |> \n  select(-year) |>\n  summarise(across(where(is.numeric), ~ sum(is.na(.)) / n() * 100, .names = \"missing_{col}\")) |>\n  rowwise() |>\n  mutate(\n    total_missing_percentage = mean(c_across(starts_with(\"missing_\")), na.rm = TRUE)\n  ) |>\n  select(country_code, total_missing_percentage)\n\n# Filtering out the countries with more then 70% missing data\nhigh_missing_countries <- missing_percentage_per_country |>\n  filter(total_missing_percentage > 70)\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Plotting the results\nggplot(high_missing_countries, aes(x = reorder(country_code, total_missing_percentage), y = total_missing_percentage)) +\n  geom_segment(aes(xend = country_code, yend = 0), color = \"blue\") +\n  geom_point(size = 2, color = \"black\") +\n  coord_flip() +\n  labs(\n    title = \"Countries with Total Missing Percentage Greater Than 70%\",\n    x = \"Country\",\n    y = \"Total Missing Percentage\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-27-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n- Based on the above missing value percentages, removing countries with more than 70 % average missing percentage across all variables as they have very less data. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#filtering out countries with high missing values \nfiltered_fuel <- rev_fuel |>\n  filter(!country_code %in% high_missing_countries$country_code)\n```\n:::\n\n\n- From further observation, when considering imputation given the risk of introducing bias or reducing the accuracy of the imputed values. Removing the countries where the access to fuel variables have data missing completely or the variable related to export/import have more than 50% missing data. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Calculate missing value percentage by country_code\nfinal_filter <- filtered_fuel |>\n  group_by(country_code) |>\n  select(-year) |>\n  summarise(across(where(is.numeric), ~ sum(is.na(.)) / n() * 100, .names = \"missing_{col}\")) |>\n  rowwise() |>\n  mutate(\n    mean_first_3 = mean(c_across(2:4), na.rm = TRUE),  \n    fourth_var = c_across(5)[1],                       \n    fifth_var = c_across(6)[1]                         \n  ) |>\n  filter(!(mean_first_3 == 100 | fourth_var >= 50 | fifth_var >= 50)) |>\n  select(-mean_first_3, -fourth_var, -fifth_var)\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Final dataset post removing the countries with significant missing values \nfuel_valid <- filtered_fuel |>\n  filter(country_code %in% final_filter$country_code)\n```\n:::\n\n\n#### Outlier detection \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Creating Boxplots to Detect Outliers \noutlier_fuel <- fuel_valid |>\n  pivot_longer(\n    cols = starts_with(c(\"EG\", \"TX\", \"TM\")),\n    names_to = \"variable\",\n    values_to = \"value\"\n  ) \n\nggplot(outlier_fuel, aes(x = variable, y = value)) +\n  geom_boxplot() +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-31-1.png){fig-align='center' width=100%}\n:::\n:::\n\n- The outliers observed in TX.VAL.FUEL.ZS.UN, TM.VAL.FUEL.ZS.UN, EG.CFT.ACCS.UR.ZS that is related to fuel exports, fuel imports and Access to clean fuels and technologies for cooking, urban respectively. \n\n- Outliers may reflect countries with distinct economic conditions, such as those heavily reliant on fuel imports or exports, or those with substantial investments in clean energy technologies. Additionally, unique characteristics like being oil-rich or having strong clean energy policies can also result in outlier values. These would provide additional perspective while doing further analysis and best to retain them. \n\n#### Imputation \n\n**Checking for missing values in variables post data cleaning**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Checking for missing values \ncolSums(is.na(fuel_valid)) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     country_name      country_code              year \n                0                 0                 0 \n   EG.CFT.ACCS.ZS EG.CFT.ACCS.RU.ZS EG.CFT.ACCS.UR.ZS \n                0                 0                 0 \nTX.VAL.FUEL.ZS.UN TM.VAL.FUEL.ZS.UN \n              217               159 \n```\n\n\n:::\n:::\n\n\n- Based on the review of missing values, we can observe that TX.VAL.FUEL.ZS.UN, TM.VAL.FUEL.ZS.UN variables have missing values. Now we will consider imputation for these two variables. \n\n##### Imputation using Moving Averages Method\n\n- Checking the method by applying it to a country with relatively full data: \"Andorra - AND\" for the variable \"TM.VAL.FUEL.ZS.UN\" \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Plotting the data before imputation\ncountry_data <- fuel_valid |>\n  filter(country_code == \"AND\")\n\nggplot(country_data, aes(x = year, y = TM.VAL.FUEL.ZS.UN)) +\n  geom_point(color = \"blue\") +\n  geom_smooth(method = \"loess\", color = \"red\") + \n  labs(title = \"Access to Clean Fuels over Years before Imputation for Andorra\",\n       x = \"Year\",\n       y = \"Fuel Import\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-33-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n#Applying Imputation\nimpute_data <- country_data |> \n  mutate(across(starts_with(\"TM\"), ~ na_ma(.x, k = 5)))\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Plotting the data post imputation\nggplot(impute_data, aes(x = year, y = TM.VAL.FUEL.ZS.UN)) +\n  geom_point(color = \"blue\") + \n  geom_smooth(method = \"loess\", color = \"red\") + \n  labs(title = \"Access to Clean Fuels over Years post Imputation for Andorra\",\n       x = \"Year\",\n       y = \"Fuel Import\") + \n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-35-1.png){fig-align='center' width=100%}\n:::\n:::\n\n- The imputed data point at year 2005 is close to the smoothing line, suggesting that the imputed value aligns well with the general trend or pattern observed in the existing data. Being close to the smoothing line can indicate that the imputation method used (such as moving average) has produced a reasonable estimate that is in line with the overall data distribution. It suggests that the imputation method effectively captures the underlying data pattern and that the imputed values are not drastically different from what is expected.\n\n- Hence applying this method to further impute the remaining  values. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nvalid_fuel_data <- fuel_valid |>\n  group_by(country_code) |>\n  mutate(across(starts_with(\"T\"), ~ na_ma(.x, k = 5)))\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nwrite.csv(valid_fuel_data, \"data/valid_fuel_data.csv\", row.names = FALSE)\n```\n:::\n\n\n**Evaluating the summary of valid_fuel_data post imputation**\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nsummary(valid_fuel_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n country_name       country_code            year     \n Length:3781        Length:3781        Min.   :2004  \n Class :character   Class :character   1st Qu.:2008  \n Mode  :character   Mode  :character   Median :2013  \n                                       Mean   :2013  \n                                       3rd Qu.:2018  \n                                       Max.   :2022  \n EG.CFT.ACCS.ZS  EG.CFT.ACCS.RU.ZS EG.CFT.ACCS.UR.ZS\n Min.   :  0.1   Min.   :  0.0     Min.   :  0.2    \n 1st Qu.: 36.5   1st Qu.: 13.2     1st Qu.: 65.5    \n Median : 86.9   Median : 71.7     Median : 95.2    \n Mean   : 68.1   Mean   : 58.8     Mean   : 78.0    \n 3rd Qu.:100.0   3rd Qu.:100.0     3rd Qu.:100.0    \n Max.   :100.0   Max.   :100.0     Max.   :100.0    \n TX.VAL.FUEL.ZS.UN TM.VAL.FUEL.ZS.UN\n Min.   : 0.00     Min.   : 0.0105  \n 1st Qu.: 1.37     1st Qu.:10.1302  \n Median : 7.22     Median :14.5438  \n Mean   :18.17     Mean   :15.1598  \n 3rd Qu.:23.69     3rd Qu.:19.2336  \n Max.   :98.40     Max.   :67.7769  \n```\n\n\n:::\n:::\n\n- Based on the summary, we can observe that post imputing there are no \"NA\" values in the data and the imputed values are within the expected range. \n\n**Reason for Applying Moving Averages Method using ImputeTS**\n\n- For time-series data with percentage values, the moving average method is generally better as it accounts for temporal patterns and trends in the data, which is important for maintaining the integrity of time-series analysis. It is also good for handling non-normal distributions effectively.\n- Further k = 5 is chosen as a 5-period moving average smooths out fluctuations by averaging data over 5 time points. It is good for capturing short-term trends and smoothing out noise in the data.\n\n\n### Outline of the IDA conducted \n\n__1. Understanding the Population of Interest__\n\n- The population of interest includes households or individuals in various regions or countries that rely on different types of fuels for cooking. The scope can vary from specific regions to global analyses, depending on the scope of the analysis. \n\n__2. Data Screening__\n\nVisualizing Data Types and Structure:\n\n- _\"vis_dat(fuel_data)\"_ is used to understand the data composition, revealing a mix of character and numeric variables, along with NA values.\n- glimpse(fuel_data) provides a quick overview of the dataset, showing variable names, types, and initial values, ensuring the correct data structure.\n\nGeographical Distribution Summary:\n\n- Continent and Region Summaries:\nThe dataset is processed to include clean variable names and geographic details for each country (continent and region).\nContinent and region summaries are created to understand geographic distribution, aiding in spotting potential data issues or anomalies.\n\n__3. Data Cleaning__\n\nPreparing the Data:\n\n- The dataset is cleaned by creating new variables and converting it from wide to tidy format using pivot_longer and pivot_wider. This transformation makes the dataset easier to manipulate and analyze.\n\nAssessing Missing Data:\n\n- Missing data percentages are calculated for each variable. High missing percentages are noted, especially for variables related to CO2 emissions, fossil fuel consumption, and diesel prices.\n- Decisions on variable retention are based on their relevance to the research question concerning the relationship between access to clean fuels for cooking and fuel imports/exports and missing data percentages.\n\nFiltering Relevant Variables:\n\n- The analysis focuses on the following variables:\nAccess to clean fuels for cooking (general, rural, urban).\nFuel exports and imports as a percentage of merchandise exports.\nVariables unrelated to the research question, such as CO2 emissions, fossil fuel consumption and diesel prices, are excluded from further analysis.\n\n__4. Handling Missing Values__\n\nCountry-Level Missing Data Analysis:\n\n- Countries with more than 70% missing data across all variables are identified and removed to ensure the integrity of the analysis.\n- A further filter is applied to exclude countries with missing data in key variables, ensuring that only relevant and countries with sufficient data for imputation is retained.\n\n__5. Outlier Detection__\n\nIdentifying Outliers:\n\n- Boxplots are created to detect outliers in key variables related to fuel imports, exports, and access to clean fuels.\n- Outliers are retained in the dataset, as they may reflect significant economic conditions or policies that are relevant to the analysis.\n\n__6. Imputation__\n\nImputation Strategy:\n\n- The missing values in the dataset are imputed using the moving averages method _(na_ma())_ using _'ImputeTS'_ package. This method is first validated by applying it to a country with relatively complete data (Andorra).\n- The imputed values are assessed against the overall trend, ensuring they align with the data's general pattern.\n\n**Final Dataset**\n\n- The validated imputation method is applied across the dataset, and the final clean and complete dataset (valid_fuel_data) is prepared for further analysis.\n- The final dataset includes two csv files, __valid_fuel_data.csv__ contains the full dataset excluding the series name while __valid_fuel_variables.csv__ contains the series code along with the series name, which can used to map the series code to the series name when required. \n\n#### Plots based on final Valid Fuel Dataset\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Converting data to long format\nplot_data <- valid_fuel_data |>\n pivot_longer(\n    cols = where(is.numeric) & !starts_with(\"year\"),\n    names_to = \"variable\",\n    values_to = \"value\"\n  )\n\n# Histogram plot faceted by variable\nggplot(plot_data, aes(x = value)) +\n  geom_histogram(binwidth = 15, \n                 fill = \"blue\", \n                 color = \"black\", \n                 alpha = 0.7) +\n  facet_wrap(~ variable, scales = \"free_x\") +\n  labs(title = \"Histograms of Variables\", \n       x = \"Value\", \n       y = \"Frequency\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-39-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nvariables <- c(\"EG.CFT.ACCS.ZS\", \"EG.CFT.ACCS.RU.ZS\", \"EG.CFT.ACCS.UR.ZS\", \"TX.VAL.FUEL.ZS.UN\", \"TM.VAL.FUEL.ZS.UN\")\n\n# Aggregate the data across countries\naggregate_data <- valid_fuel_data |>\n  group_by(year) |>\n  summarise(across(all_of(variables), mean, na.rm = TRUE))\n\n# Plot the aggregated trends\nggplot(aggregate_data, aes(x = year)) +\n  geom_line(aes(y = EG.CFT.ACCS.ZS, color = \" EG.CFT.ACCS.ZS\")) +\n  geom_line(aes(y = EG.CFT.ACCS.RU.ZS, color = \"EG.CFT.ACCS.RU.ZS\")) +\n  geom_line(aes(y = EG.CFT.ACCS.UR.ZS, color = \" EG.CFT.ACCS.UR.ZS\")) +\n  geom_line(aes(y = TX.VAL.FUEL.ZS.UN, color = \" TX.VAL.FUEL.ZS.UN\")) +\n  geom_line(aes(y = TM.VAL.FUEL.ZS.UN, color = \" TM.VAL.FUEL.ZS.UN\")) +\n  labs(title = \"Aggregated Trends Over Time\",\n       x = \"Year\",\n       y = \"Percentage (%)\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-40-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nlong_form <- valid_fuel_data |>\n  pivot_longer(\n    cols = starts_with(c(\"EG\", \"TX\", \"TM\")), \n    names_to = \"variable\",\n    values_to = \"value\"\n  ) \n\nggplot(long_form, aes(x = variable, y = value)) +\n  geom_boxplot() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(title = \"Visualising Distribution of Valid Fuel Data\",\n       x = \"Year\",\n       y = \"Percentage (%)\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-41-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n\n**Summary Statistics for Fuel Access and Trade Variables across Years**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nsummary_statistics <- valid_fuel_data |>\n  group_by(year) |>\n  summarise(across(where(is.numeric) & !starts_with(\"year\"), \n           list( mean = mean, \n                 median = median, \n                 sd = sd, \n                 min = min, \n                 max = max, \n                 IQR = IQR)))\n\nkable(head(summary_statistics,5), \n      caption = \"Summary Statistics for Fuel Access and Trade Variables across Years\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Summary Statistics for Fuel Access and Trade Variables across Years</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> year </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_mean </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_median </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_sd </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_min </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_max </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS_IQR </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_mean </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_median </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_sd </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_min </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_max </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS_IQR </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_mean </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_median </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_sd </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_min </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_max </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS_IQR </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_mean </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_median </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_sd </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_min </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_max </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN_IQR </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_mean </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_median </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_sd </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_min </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_max </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN_IQR </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2004 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 81 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 92 </td>\n   <td style=\"text-align:right;\"> 74 </td>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 5.1 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 6.9 </td>\n   <td style=\"text-align:right;\"> 0.23 </td>\n   <td style=\"text-align:right;\"> 43 </td>\n   <td style=\"text-align:right;\"> 6.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2005 </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 73 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 92 </td>\n   <td style=\"text-align:right;\"> 74 </td>\n   <td style=\"text-align:right;\"> 94 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 6.3 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 7.6 </td>\n   <td style=\"text-align:right;\"> 0.22 </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 7.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2006 </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 83 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 91 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 95 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 6.8 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 8.3 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 8.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2007 </td>\n   <td style=\"text-align:right;\"> 65 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 71 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 95 </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 6.7 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 8.1 </td>\n   <td style=\"text-align:right;\"> 0.22 </td>\n   <td style=\"text-align:right;\"> 52 </td>\n   <td style=\"text-align:right;\"> 8.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2008 </td>\n   <td style=\"text-align:right;\"> 65 </td>\n   <td style=\"text-align:right;\"> 85 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 69 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 89 </td>\n   <td style=\"text-align:right;\"> 76 </td>\n   <td style=\"text-align:right;\"> 95 </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 7.9 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 8.7 </td>\n   <td style=\"text-align:right;\"> 0.23 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 9.5 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**Top Countries in Access to Clean Fuels and Technologies for Cooking  (% of population)**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ntop_countries <- valid_fuel_data |>\n  group_by(country_code) |>\n  summarise(across(starts_with(\"EG\"), max, na.rm = TRUE),\n            across(starts_with(\"TX\"), max, na.rm = TRUE),\n            across(starts_with(\"TM\"), max, na.rm = TRUE)) |>\n  arrange(desc(EG.CFT.ACCS.ZS))\n\n\nkable(head(top_countries,5), \n      caption = \"Top Countries in Fuel Access\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Top Countries in Fuel Access</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> country_code </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> AND </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 0.13 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ARE </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 77.84 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ATG </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 16.83 </td>\n   <td style=\"text-align:right;\"> 37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> AUS </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 42.70 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> AUT </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 100 </td>\n   <td style=\"text-align:right;\"> 5.27 </td>\n   <td style=\"text-align:right;\"> 14 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n**Bottom Countries in Access to Clean Fuels and Technologies for Cooking  (% of population)**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nbottom_countries <- valid_fuel_data |>\n  group_by(country_code) |>\n  summarise(across(starts_with(\"EG\"), min, na.rm = TRUE),\n            across(starts_with(\"TX\"), min, na.rm = TRUE),\n            across(starts_with(\"TM\"), min, na.rm = TRUE)) |>\n  arrange(EG.CFT.ACCS.ZS)\n\n\nkable(head(bottom_countries,5), \n      caption = \"Bottom Countries in Fuel Access \") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Bottom Countries in Fuel Access</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> country_code </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.ZS </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.RU.ZS </th>\n   <th style=\"text-align:right;\"> EG.CFT.ACCS.UR.ZS </th>\n   <th style=\"text-align:right;\"> TX.VAL.FUEL.ZS.UN </th>\n   <th style=\"text-align:right;\"> TM.VAL.FUEL.ZS.UN </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> BDI </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 0.94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> RWA </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.00 </td>\n   <td style=\"text-align:right;\"> 2.19 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> CAF </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> UGA </td>\n   <td style=\"text-align:right;\"> 0.6 </td>\n   <td style=\"text-align:right;\"> 0.3 </td>\n   <td style=\"text-align:right;\"> 1.2 </td>\n   <td style=\"text-align:right;\"> 1.06 </td>\n   <td style=\"text-align:right;\"> 11.82 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> MLI </td>\n   <td style=\"text-align:right;\"> 0.8 </td>\n   <td style=\"text-align:right;\"> 0.3 </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 0.01 </td>\n   <td style=\"text-align:right;\"> 21.12 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n## Checking the data collection\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nexperiment_data <- read_csv(\"data/DAT_HexmapPilotData_V1_20191115.csv\")\n```\n:::\n\n\n#### Assessing Data Irregularities: \n\n**1. Checking for Missing Values in Variables:**\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Checking for missing values \ncolSums(is.na(experiment_data)) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    group     trend  location      type    choice    reason \n        0         0         0         0         0         0 \ncertainty      time     order replicate        id    detect \n        0         0         0         0         0         0 \n```\n\n\n:::\n:::\n\n\n**2. Checking for Duplicate Rows:**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Detecting duplicate rows\nsum(duplicated(experiment_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n:::\n\n\n**3. Checking for Data Consistency**\n\na. Verifying the levels in the categorical variables\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Checking for unexpected levels in categorical variables\nunique(experiment_data$type)  \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Geography\" \"Hexagons\" \n```\n\n\n:::\n\n```{.r .cell-code}\nunique(experiment_data$trend)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"NW-SE\"        \"three cities\" \"all cities\"  \n```\n\n\n:::\n\n```{.r .cell-code}\nunique(experiment_data$group) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"A\" \"B\"\n```\n\n\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\n#Note: Hiding results as the number of variables are high\n\nunique(experiment_data$location) \nunique(experiment_data$certainty)\nunique(experiment_data$reason)\nunique(experiment_data$choice)\nunique(experiment_data$detect)\nunique(experiment_data$order)\nunique(experiment_data$replicate)\n```\n:::\n\n\nb. Checking the summary to access the structure and range for each variable. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Note: output is hidden in the report because of high number of variables\n#Checking the summary to confirm the range and detect unusual values\nsummary(experiment_data)\n```\n:::\n\n\nc. Checking the measurements of groups against the six treatment levels. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\nsummary_table <- experiment_data |>\n  count(group, type, trend) |>\n  pivot_wider(names_from = trend, \n              values_from = n, \n              values_fill = list(n = 0)) |>\n  arrange(group, type)\n\n\nkable(summary_table, \n      caption = \"Counts by Group, Type, and Trend\") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"responsive\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-responsive\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Counts by Group, Type, and Trend</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> group </th>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> NW-SE </th>\n   <th style=\"text-align:right;\"> all cities </th>\n   <th style=\"text-align:right;\"> three cities </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:left;\"> Geography </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:left;\"> Hexagons </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:left;\"> Geography </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> B </td>\n   <td style=\"text-align:left;\"> Hexagons </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n- Here, we can observe that group B has 2 more measurements as compared to group A for each treatment. There is a slight imbalance and might not have significant effect on the outcome as the primary factors are \"plot type\" and \"trend model\". The paper does not explicitly mention any steps to balance this, suggesting the authors may have considered the imbalance small enough to not affect the results.\n\n\n#### Identifying which Columns of the Data Match the Factors in the Experiment\n\nBased on the paper, the two main experimental factors are:\n\n1. Plot Type:\nColumn in dataset matching the factor: _'type' (Geography or Hexagons)_\n\n2. Trend Model:\nColumn in dataset matching the factor: _'trend' (NW-SE, all cities, three cities)_\n\n#### Checking the Number of Measurements Collected for Each of the Treatments\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ntype_counts <- experiment_data |>\n  group_by(type) |>\n  summarise(count = n())\n\nggplot(type_counts, aes(x = type, y = count, fill = type)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Number of Measurements by Plot Type\", \n       x = \"Plot Type\", \n       y = \"Count\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-52-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n- Above figure shows the number of measurements for each type of plot (Geography vs. Hexagons). As observed, they are consistent in count. \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ntrend_counts <- experiment_data |>\n  group_by(trend) |>\n  summarise(count = n())\n\nggplot(trend_counts, aes(x = trend, y = count, fill = trend)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Number of Measurements by Trend Model\", \n       x = \"Trend Model\", \n       y = \"Count\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-53-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n- The above figure, displays the number of measurements for each trend model (NW-SE, all cities, three cities). They are also consistent in measurements.\n\n**Number of Measurements Collected for Each of the Treatments**\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-fold=\"true\"}\ntype_trend_counts <- experiment_data |>\n  group_by(type, trend) |>\n  summarise(count = n(), .groups = 'drop')\n\nkable(type_trend_counts, \n      caption = \"Distribution of Measurements across all Treatments \") |>\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Distribution of Measurements across all Treatments</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:left;\"> trend </th>\n   <th style=\"text-align:right;\"> count </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Geography </td>\n   <td style=\"text-align:left;\"> NW-SE </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Geography </td>\n   <td style=\"text-align:left;\"> all cities </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Geography </td>\n   <td style=\"text-align:left;\"> three cities </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Hexagons </td>\n   <td style=\"text-align:left;\"> NW-SE </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Hexagons </td>\n   <td style=\"text-align:left;\"> all cities </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Hexagons </td>\n   <td style=\"text-align:left;\"> three cities </td>\n   <td style=\"text-align:right;\"> 42 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n- The above table illustrates the distribution of measurements across all combinations of plot types and trend types to ensure each treatment has been adequately covered.\n\n**Based on the above assessment, summary statistics and plots, we can infer the following:** \n\n- There are no gaps/missing values in the variables. \n- There are no duplicate rows. \n- The data types of variables are consistent. The ranges of the variables is within the expected range as described in the paper.\n- There is a slight imbalance in the measurements of Group A and Group B for each treatment.\n- The data shows an even distribution between the two plot types: \"Geography\" (choropleth map) and \"Hexagons\" (hexagon tile map).\nNo plot type is significantly underrepresented, which suggest no bias or inconsistency.\n- The data is evenly distributed and follows the expected experimental design across the three trend types: \"NW-SE,\" \"all cities,\" and \"three cities\". No trend type has significantly fewer measurements. \n- Ideally, there is an even distribution of measurements across all combinations of plot types and trend types forming six levels of treatment. All treatments have similar number of observations. Hence, the experimental design was fully covered. There are no gaps in the data collection.\n\nBased on the analysis, plot types, trend types and the combination of both forming the six treatment levels are well represented, without any under-representation or discrepancies in measurements, suggesting that the data collection was successful and aligned with the experimental design. There are no issues in the data collection apart from the slight imbalance in measurements of groups A and B.\n\n## Generative AI analysis\n\n-  ChatGPT was useful in understanding how to clean data scrapped from web. I also faced a lot of issues when joining datasets with different naming conventions for countries and was able to resolve such issues using ChatGPT. \n- I was able to clarify errors that I was unable to understand. Further, I used ChatGPT to understand the difference between various imputing methods and how to select their parameters. It also helped me in understanding how to set the k value, when using moving averages method. \n- I also used ChatGPT to understand how to determine thresholds when it comes to removing variables based on missing percentage. I read about ideal situations to use imputation in and how imputation would affect at various percentages of missing data. \n\n\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}